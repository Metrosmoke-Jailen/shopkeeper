@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&family=IM+Fell+English&display=swap');

/* ===== Base Page Styling ===== */
body {
  margin: 0;
  padding: 25px;
  font-family: 'IM Fell English', serif;
  color: #f5e6c8;
  line-height: 1.7;

  /* Tavern wood + dark ambiance */
  background:
    radial-gradient(circle at 50% 20%, rgba(255,180,80,0.15), transparent 60%),
    linear-gradient(to bottom, #2b1e16, #1a120d 70%);

  min-height: 100vh;
  position: relative;
  overflow-x: hidden;

  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 25px;
}

/* ===== Title ===== */
h1 {
  grid-column: 1 / -1;
  text-align: center;
  font-family: 'Cinzel', serif;
  font-size: 3rem;
  letter-spacing: 2px;
  color: #d4af37;
  text-shadow: 0 0 8px rgba(212, 175, 55, 0.6);
  margin-bottom: 10px;
}

/* ===== Section Boxes (Wooden Panel Look) ===== */
section {
  background: linear-gradient(145deg, #4b382a, #3a2a1f);
  border: 2px solid #d4af37;
  border-radius: 12px;
  padding: 18px;
  box-shadow:
    inset 0 0 15px rgba(0,0,0,0.6),
    0 6px 15px rgba(0,0,0,0.5);
  
  display: flex;
  flex-direction: column;
  gap: 12px;

  position: relative;
  z-index: 1;
}

/* Section Titles */
h2 {
  font-family: 'Cinzel', serif;
  font-size: 1.4rem;
  color: #ffd700;
  border-bottom: 1px solid rgba(212,175,55,0.5);
  padding-bottom: 5px;
}

/* ===== Status Section (Magical Glow) ===== */
#status {
  background: linear-gradient(145deg, #3a2f4b, #261f36);
  border: 2px solid #b388ff;
  box-shadow: 0 0 15px rgba(179, 136, 255, 0.5);
  font-weight: bold;
}

/* ===== Inventory Scroll Style ===== */
#inventory {
  background: linear-gradient(145deg, #5a4634, #3e2e22);
}

/* ===== Orders (Golden Trim) ===== */
#orders {
  border: 2px solid #ffcc00;
}

/* ===== Report (Battle Log Style) ===== */
#report {
  background: linear-gradient(145deg, #4b2f2f, #2a1a1a);
  border: 2px solid #ff6b6b;
}

/* ===== Log Scroll ===== */
#log {
  max-height: 300px;
  overflow-y: auto;
  overflow-x: hidden;

  background: #f5e6c8;
  color: #2b2118;
  border: 2px solid #a67c52;
  padding: 15px;

  font-size: 0.9rem;
  border-radius: 8px;

  transform-origin: top;
  transform: scaleY(1);
  position: relative;
}

/* Scrollbar width */
#log::-webkit-scrollbar {
  width: 10px;
}

/* Scrollbar track */
#log::-webkit-scrollbar-track {
  background: #3a2a1f;
  border-radius: 5px;
}

/* Scrollbar handle */
#log::-webkit-scrollbar-thumb {
  background: linear-gradient(#d4af37, #8c6a1f);
  border-radius: 5px;
  border: 2px solid #3a2a1f;
}

/* Hover effect */
#log::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(#ffd700, #b8860b);
}

#log p {
  margin: 6px 0;
  padding-bottom: 6px;
  border-bottom: 1px dashed rgba(0,0,0,0.2);
}

#log::after {
  content: "";
  position: sticky;
  bottom: 0;
  display: block;
  height: 30px;
  background: linear-gradient(to bottom, transparent, #f5e6c8);
  pointer-events: none;
}

/* ===== Controls Layout ===== */
#controls {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

button {
  font-family: 'Cinzel', serif;
  padding: 8px 14px;
  border-radius: 6px;
  border: 2px solid #d4af37;
  background: linear-gradient(145deg, #6b4f2c, #4a341f);
  color: #f5e6c8;
  font-weight: bold;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: all 0.25s ease;
}

/* Gold coin shimmer effect */
button::after {
  content: "ðŸª™";
  position: absolute;
  right: 10px;
  top: 50%;
  transform: translateY(-50%) rotate(0deg);
  opacity: 0;
  transition: all 0.3s ease;
}

button:hover::after {
  opacity: 1;
  transform: translateY(-50%) rotate(360deg);
}

/* Special Buttons */
#next-day { border-color: #80ffdb; }
#clean { border-color: #ffb703; }
#open-shop { border-color: #00b4d8; }
#promo { border-color: #ff006e; }
#new-game { border-color: #ff4d4d; }

/* ===== Forms ===== */
label {
  font-size: 0.95rem;
}

select,
input {
  padding: 5px;
  border-radius: 5px;
  border: 1px solid #d4af37;
  background: #2b2118;
  color: #f5e6c8;
  font-family: 'IM Fell English', serif;
}

/* ===== Merchant Header Layout ===== */
.merchant-header {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-bottom: 15px;
}

/* ===== NPC Portrait Frame ===== */
.npc-portrait {
  width: 120px;
  height: 120px;
  padding: 6px;
  border-radius: 50%;
  background: linear-gradient(145deg, #d4af37, #8c6a1f);
  box-shadow:
    0 0 15px rgba(212, 175, 55, 0.8),
    inset 0 0 10px rgba(0,0,0,0.6);
  position: relative;
  animation: portraitGlow 3s infinite alternate;
}

.npc-portrait img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #3a2a1f;
}

/* Subtle magical glow animation */
@keyframes portraitGlow {
  from {
    box-shadow: 0 0 10px rgba(212,175,55,0.5);
  }
  to {
    box-shadow: 0 0 25px rgba(212,175,55,1);
  }
}

/* ===== Torch Light Overlay ===== */
body::before,
body::after {
  content: "";
  position: fixed;
  top: 20%;
  width: 300px;
  height: 300px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 0;
  filter: blur(60px);
  opacity: 0.6;
  animation: torchFlicker 3s infinite alternate;
}

body::selection {
  background: rgba(212,175,55,0.4);
}

/* Subtle dark vignette */
body::after {
  box-shadow: inset 0 0 200px rgba(0,0,0,0.6);
}

/* Left torch */
body::before {
  left: -100px;
  background: radial-gradient(circle, rgba(255,140,0,0.9), transparent 70%);
}

/* Right torch */
body::after {
  right: -100px;
  background: radial-gradient(circle, rgba(255,120,0,0.9), transparent 70%);
}

/* Flicker animation */
@keyframes torchFlicker {
  0%   { transform: scale(1);     opacity: 0.55; }
  15%  { transform: scale(1.07);  opacity: 0.75; }
  30%  { transform: scale(0.96);  opacity: 0.60; }
  45%  { transform: scale(1.10);  opacity: 0.80; }
  60%  { transform: scale(0.92);  opacity: 0.58; }
  75%  { transform: scale(1.05);  opacity: 0.72; }
  100% { transform: scale(1);     opacity: 0.55; }
}

.npc-portrait img {
  animation: subtleBreath 4s ease-in-out infinite;
}

@keyframes subtleBreath {
  0% { transform: scale(1); }
  50% { transform: scale(1.02); }
  100% { transform: scale(1); }
}